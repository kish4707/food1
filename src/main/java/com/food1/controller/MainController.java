package com.food1.controller;

import java.io.IOException;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;

import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

// 메인컨트롤러
@Controller
@RequestMapping("/food1")
public class MainController {	
	
// 메인컨틀롤러 시작
@GetMapping("")
public String main() {
	return "main";
}

// 메인메뉴에서 선택한 항목 처리
@GetMapping("/go")
public String choice(HttpServletRequest request,
	HttpServletResponse response,
	HttpSession session) throws IOException {
	
	// 입력정보 수신
	String option = request.getParameter("option");
	String send = null;
	
	// 장바구니로 이동
	switch(option) {
	case "basketOpen" : 
		send = "/shop/basketOpen"; 
		break;
	
	// 로그인 관련 옵션(로그인, 로그아웃, 가입, 탈퇴) 처리
	case "login" :
		send = "/food/login"; 
		break;
	case "logout" : 
		send = "/food/logout"; 
		break;
	case "signup" : 
		send = "/food/signup"; 
		break;
	case "withdraw" : 
		send = "/food/withdraw"; 
		break;
		
	// 버튼(샵, 추천, 레시피)	처리
	case "shopButton" : 
		send = "/shop/main"; 
		break;
	case "suggestButton" : 
		send = "/suggest/main"; 
		break;
	case "recipeButton" : 
		send = "/recipe/main"; 
		break;
	}
	
	response.sendRedirect(send);
	return null;	
}

// --------------------------------------

@GetMapping("/index")
public String index() {
	System.out.println("This is index.");                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
	return "index";
}

@GetMapping("/jsp")
public String jsp() {
	System.out.println("This is jsp.");
	return "jsp";
}

@GetMapping("/html")
public String html(HttpServletRequest request, HttpSession session) {
	System.out.println("This is html.");
	return "thymeleaf/html";
}

}
